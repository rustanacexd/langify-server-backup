# Generated by Django 2.0 on 2017-12-20 20:38

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("panta", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="trustee",
            name="members",
            field=models.ManyToManyField(
                related_name="trustee_memberships",
                to=settings.AUTH_USER_MODEL,
                verbose_name="members",
            ),
        ),
        migrations.AddField(
            model_name="translatedwork",
            name="original",
            field=models.ForeignKey(
                help_text="Select the original work.",
                on_delete=django.db.models.deletion.PROTECT,
                related_name="translations",
                to="panta.OriginalWork",
                verbose_name="original",
            ),
        ),
        migrations.AddField(
            model_name="translatedwork",
            name="trustee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="panta.Trustee",
                verbose_name="trustee",
            ),
        ),
        migrations.AddField(
            model_name="translatedsegment",
            name="locked_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.PROTECT,
                to=settings.AUTH_USER_MODEL,
                verbose_name="locked by",
            ),
        ),
        migrations.AddField(
            model_name="translatedsegment",
            name="original",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="translations",
                to="panta.OriginalSegment",
                verbose_name="original",
            ),
        ),
        migrations.AddField(
            model_name="translatedsegment",
            name="work",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="segments",
                to="panta.TranslatedWork",
                verbose_name="work",
            ),
        ),
        migrations.AddField(
            model_name="segmentdraft",
            name="owner",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="drafts",
                to=settings.AUTH_USER_MODEL,
                verbose_name="owner",
            ),
        ),
        migrations.AddField(
            model_name="segmentdraft",
            name="segment",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="drafts",
                to="panta.TranslatedSegment",
                verbose_name="segment",
            ),
        ),
        migrations.AddField(
            model_name="segmentdraft",
            name="work",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="drafts",
                to="panta.TranslatedWork",
                verbose_name="work",
            ),
        ),
        migrations.AddField(
            model_name="originalwork",
            name="author",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="panta.Author",
                verbose_name="author",
            ),
        ),
        migrations.AddField(
            model_name="originalwork",
            name="licence",
            field=models.ForeignKey(
                help_text="Select the licence you want to publish this work under.",
                on_delete=django.db.models.deletion.PROTECT,
                to="panta.Licence",
                verbose_name="licence",
            ),
        ),
        migrations.AddField(
            model_name="originalwork",
            name="trustee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                to="panta.Trustee",
                verbose_name="trustee",
            ),
        ),
        migrations.AddField(
            model_name="originalsegment",
            name="work",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.PROTECT,
                related_name="segments",
                to="panta.OriginalWork",
                verbose_name="work",
            ),
        ),
        migrations.AddField(
            model_name="historicaltranslatedwork",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaltranslatedwork",
            name="original",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.OriginalWork",
            ),
        ),
        migrations.AddField(
            model_name="historicaltranslatedwork",
            name="trustee",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.Trustee",
            ),
        ),
        migrations.AddField(
            model_name="historicaltranslatedsegment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalwork",
            name="author",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.Author",
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalwork",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalwork",
            name="licence",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.Licence",
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalwork",
            name="trustee",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.Trustee",
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalsegment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaloriginalsegment",
            name="work",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="panta.OriginalWork",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="author", unique_together={("first_name", "last_name")}
        ),
        migrations.AlterUniqueTogether(
            name="translatedwork",
            unique_together={("abbreviation", "language")},
        ),
        migrations.AlterIndexTogether(
            name="translatedwork", index_together={("abbreviation", "language")}
        ),
        migrations.AlterUniqueTogether(
            name="translatedsegment", unique_together={("work", "position")}
        ),
        migrations.AlterUniqueTogether(
            name="originalwork", unique_together={("abbreviation", "language")}
        ),
        migrations.AlterIndexTogether(
            name="originalwork", index_together={("abbreviation", "language")}
        ),
        migrations.AlterUniqueTogether(
            name="originalsegment", unique_together={("work", "position")}
        ),
    ]
